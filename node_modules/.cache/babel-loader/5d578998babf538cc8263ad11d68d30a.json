{"ast":null,"code":"import _classCallCheck from\"D:/react/backup chat/partycracklive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/react/backup chat/partycracklive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/react/backup chat/partycracklive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/react/backup chat/partycracklive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import axios from'axios';import{withRouter}from'react-router-dom';import{Spinner}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var VendorProfile=/*#__PURE__*/function(_React$Component){_inherits(VendorProfile,_React$Component);var _super=_createSuper(VendorProfile);function VendorProfile(){var _this;_classCallCheck(this,VendorProfile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={tabShow:\"profile\",userName:\"\",email:\"\",mobileNumber:\"\",address:\"\",let:\"\",lng:\"\",loading:false,mobileErr:false};_this.onSubmit=function(e){e.preventDefault();var vendor_id=localStorage.getItem(\"vendor_id\");//    const {email,userName,mobileNumber,address}=this.state\n_this.setState({mobileErr:false});var address={Address:_this.state.address,Lat:_this.state.lat,Lng:_this.state.lng};var newdata={id:vendor_id,email:_this.state.email,name:_this.state.userName,mobile_number:_this.state.mobileNumber};if(_this.state.mobileNumber.length<10||!_this.state.mobileNumber){_this.setState({mobileErr:true});}else{var token=localStorage.getItem(\"token\");var id=localStorage.getItem(\"vendor_id\");axios.post(\"\".concat(process.env.REACT_APP_API,\"/api/auth/edit-vendorprofile\"),newdata,{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(res){if(res.data.Error==false){_this.setState({tabShow:\"profile\"});}});}};_this.phoneInput=function(e){var ch=String.fromCharCode(e.which);if(!/[0-9]/.test(ch)){e.preventDefault();}else if(_this.state.mobileNumber.length>=11){e.preventDefault();}};return _this;}_createClass(VendorProfile,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var token=localStorage.getItem(\"token\");var id=localStorage.getItem(\"vendor_id\");axios.get(\"\".concat(process.env.REACT_APP_API,\"/api/auth/vendorprofile/\").concat(id),{headers:{Authorization:\"Bearer \".concat(token)}}).then(function(res){console.log(res.data.data);if(res.data.Error===false){_this2.setState({userName:res.data.data.name,email:res.data.data.email,mobileNumber:res.data.data.mobile_number});}_this2.setState({loading:true});});}},{key:\"render\",value:function render(){var _this3=this;var vendor=this.state.vendor;console.log(this.state);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:this.props.SideBar?\"content-body\":\"content-body extended\",children:/*#__PURE__*/_jsx(\"div\",{className:\"section-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"nav nav-tabs mb-3\",id:\"pills-tab\",role:\"tablist\",children:[/*#__PURE__*/_jsx(\"li\",{className:this.state.tabShow===\"profile\"?\"nav-item active\":\"nav-item \",children:/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(){_this3.setState({tabShow:\"profile\"});},className:this.state.tabShow===\"profile\"?\"nav-link active\":\"nav-link\",id:\"\",\"data-toggle\":\"pill\",href:\"#pills-profile\",role:\"tab\",\"aria-controls\":\"pills-profile\",\"aria-selected\":\"false\",children:\"Profile\"})}),/*#__PURE__*/_jsx(\"li\",{className:this.state.tabShow===\"editProfile\"?\"nav-item active\":\"nav-item \",children:/*#__PURE__*/_jsxs(\"a\",{onClick:function onClick(){_this3.setState({tabShow:\"editProfile\"});},className:this.state.tabShow===\"editProfile\"?\"nav-link active\":\"nav-link\",\"data-toggle\":\"tab\",href:\"#addnew\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-edit\"}),\" Edit Profile\"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"tab-content\",children:this.state.tabShow===\"profile\"?/*#__PURE__*/_jsx(_Fragment,{children:this.state.loading?/*#__PURE__*/_jsx(\"div\",{className:\"tab-pane fade active show\",id:\"pills-profile\",role:\"tabpanel\",\"aria-labelledby\":\"pills-profile-tab\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row clearfix\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12 col-md-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"prplist\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"prplistitem\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"div\",{children:this.state.userName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"prplistitem\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Email address\"}),/*#__PURE__*/_jsx(\"div\",{children:this.state.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"prplistitem\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"Mobile Number\"}),/*#__PURE__*/_jsx(\"div\",{children:this.state.mobileNumber})]})]})})})})})}):/*#__PURE__*/_jsx(\"div\",{className:\"spinner\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"danger\"})})}):/*#__PURE__*/_jsx(\"div\",{className:\"tab-pane fade active show\",id:\"addnew\",role:\"tabpanel\",\"aria-labelledby\":\"pills-profile-tab\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row clearfix\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:this.state.userName,name:\"userName\",onChange:function onChange(e){_this3.setState({userName:e.target.value});},className:\"form-control\",placeholder:\"Enter User Name\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{disabled:true,type:\"email\",value:this.state.email,name:\"email\",onChange:function onChange(e){_this3.setState({email:e.target.value});},className:\"form-control\",placeholder:\"Enter Email\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 col-md-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Mobile Number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:this.state.mobileNumber,onFocus:function onFocus(){return _this3.setState({mobileNumber:\"04\"});},onKeyDown:function onKeyDown(e){if(_this3.state.mobileNumber.length==2)if(e.which==8){e.preventDefault();}},onKeyPress:this.phoneInput,onChange:function onChange(e){_this3.setState({mobileNumber:e.target.value});},name:\"mobileNumber\",maxLength:\"10\",className:\"form-control\",id:\"exampleInputEmail1\",autocomplete:\"off\",placeholder:\"Mobile Number\",noValidate:true}),this.state.mobileErr?/*#__PURE__*/_jsx(\"span\",{style:{color:\"red\"},children:\"Mobile Number must be 10 digits long\"}):\"\"]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer text-right\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-default\",children:\"Update\"})})]})})})})]})})})});}}]);return VendorProfile;}(React.Component);export default withRouter(VendorProfile);","map":{"version":3,"sources":["D:/react/backup chat/partycracklive/src/Components/venderDashboard/profile/index.jsx"],"names":["React","axios","withRouter","Spinner","VendorProfile","state","tabShow","userName","email","mobileNumber","address","let","lng","loading","mobileErr","onSubmit","e","preventDefault","vendor_id","localStorage","getItem","setState","Address","Lat","lat","Lng","newdata","id","name","mobile_number","length","token","post","process","env","REACT_APP_API","headers","Authorization","then","res","data","Error","phoneInput","ch","String","fromCharCode","which","test","get","console","log","vendor","props","SideBar","target","value","color","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Spinner } from \"react-bootstrap\"\r\n\r\n\r\n\r\n\r\n\r\nclass VendorProfile extends React.Component {\r\n    state = {\r\n        tabShow: \"profile\",\r\n        userName: \"\",\r\n        email: \"\",\r\n        mobileNumber: \"\",\r\n        address: \"\",\r\n        let: \"\",\r\n        lng: \"\",\r\n        loading: false,\r\n        mobileErr:false\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        let token = localStorage.getItem(\"token\")\r\n        let id = localStorage.getItem(\"vendor_id\")\r\n        axios.get(`${process.env.REACT_APP_API}/api/auth/vendorprofile/${id}`, {\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        }).then(res => {\r\n            console.log(res.data.data)\r\n            if (res.data.Error === false) {\r\n                this.setState({\r\n                    userName: res.data.data.name,\r\n                    email: res.data.data.email,\r\n                    mobileNumber: res.data.data.mobile_number,\r\n                })\r\n            }\r\n            this.setState({\r\n                loading: true\r\n            })\r\n        })\r\n    }\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        let vendor_id = localStorage.getItem(\"vendor_id\")\r\n        //    const {email,userName,mobileNumber,address}=this.state\r\n        this.setState({\r\n            mobileErr:false\r\n        })\r\n        let address = {\r\n            Address: this.state.address,\r\n            Lat: this.state.lat,\r\n            Lng: this.state.lng\r\n        }\r\n        const newdata = {\r\n            id: vendor_id,\r\n            email: this.state.email,\r\n            name: this.state.userName,\r\n            mobile_number: this.state.mobileNumber,\r\n        }\r\n        if((this.state.mobileNumber.length<10) ||(!this.state.mobileNumber)){\r\n            this.setState({\r\n                mobileErr:true\r\n            })\r\n        }\r\nelse{\r\n        let token = localStorage.getItem(\"token\")\r\n        let id = localStorage.getItem(\"vendor_id\")\r\n\r\n        axios.post(`${process.env.REACT_APP_API}/api/auth/edit-vendorprofile`, newdata, {\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        }).then(res => {\r\n\r\n\r\n            if (res.data.Error == false) {\r\n                this.setState({ tabShow: \"profile\" })\r\n            }\r\n        })\r\n    }\r\n\r\n    }\r\n    phoneInput = (e) => {\r\n        const ch = String.fromCharCode(e.which)\r\n        if (!(/[0-9]/.test(ch))) {\r\n            e.preventDefault();\r\n        }\r\n        else if (this.state.mobileNumber.length >= 11) {\r\n            e.preventDefault()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let { vendor } = this.state\r\n        console.log(this.state)\r\n        return (\r\n            <>\r\n                <div className={this.props.SideBar ? \"content-body\" : \"content-body extended\"}>\r\n                    <div className=\"section-body\">\r\n                        <div className=\"container-fluid\">\r\n                            <ul className=\"nav nav-tabs mb-3\" id=\"pills-tab\" role=\"tablist\">\r\n                                <li className={this.state.tabShow === \"profile\" ? \"nav-item active\" : \"nav-item \"}><a onClick={() => { this.setState({ tabShow: \"profile\" }) }} className={this.state.tabShow === \"profile\" ? \"nav-link active\" : \"nav-link\"} id=\"\" data-toggle=\"pill\" href=\"#pills-profile\" role=\"tab\" aria-controls=\"pills-profile\" aria-selected=\"false\">Profile</a></li>\r\n                                <li className={this.state.tabShow === \"editProfile\" ? \"nav-item active\" : \"nav-item \"}><a onClick={() => { this.setState({ tabShow: \"editProfile\" }) }} className={this.state.tabShow === \"editProfile\" ? \"nav-link active\" : \"nav-link\"} data-toggle=\"tab\" href=\"#addnew\"><i className=\"fa fa-edit\" /> Edit Profile</a></li>\r\n                            </ul>\r\n                            <div className=\"tab-content\">\r\n                                {\r\n                                    this.state.tabShow === \"profile\" ?\r\n                                        <>\r\n                                            {this.state.loading ?\r\n                                                <div className=\"tab-pane fade active show\" id=\"pills-profile\" role=\"tabpanel\" aria-labelledby=\"pills-profile-tab\">\r\n                                                    <div className=\"row clearfix\">\r\n                                                        <div className=\"col-lg-12 col-md-12\">\r\n                                                            <div className=\"card\">\r\n\r\n                                                                <div className=\"card-body\">\r\n                                                                    <div className=\"prplist\">\r\n                                                                    <div className=\"prplistitem\">\r\n                                                                            <div>Name</div>\r\n                                                                            <div>{this.state.userName}</div>\r\n                                                                        </div>\r\n                                                                        <div className=\"prplistitem\">\r\n                                                                            <div>Email address</div>\r\n                                                                            <div>{this.state.email}</div>\r\n                                                                        </div>\r\n                                                                        <div className=\"prplistitem\">\r\n                                                                            <div>Mobile Number</div>\r\n                                                                            <div>{this.state.mobileNumber}</div>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                                              \r\n                                        :\r\n                                        <div className=\"spinner\">\r\n                                        <Spinner animation=\"border\" variant=\"danger\" />\r\n                                         </div>\r\n                                }\r\n                                </>\r\n                                        :\r\n                                        <div className=\"tab-pane fade active show\" id=\"addnew\" role=\"tabpanel\" aria-labelledby=\"pills-profile-tab\">\r\n                                    <div className=\"card\">\r\n                                        {/* <div class=\"card-header\">\r\n            <h3 class=\"card-title\">Edit Personal Details</h3>\r\n          </div> */}\r\n                                        <form onSubmit={this.onSubmit}>\r\n                                            <div className=\"card-body\">\r\n\r\n                                                <div className=\"row clearfix\">\r\n                                                <div className=\"col-lg-6 col-md-12\">\r\n                                                            <div className=\"form-group\">\r\n                                                                <label className=\"form-label\">Name</label> \r\n                                                                <input type=\"text\" value={this.state.userName} name=\"userName\" onChange={(e)=>{this.setState({userName:e.target.value})}} className=\"form-control\" placeholder=\"Enter User Name\" />\r\n                                                            </div>\r\n                                                        </div> \r\n                                                    {/*<div className=\"col-lg-6 col-md-12\">\r\n                                                            <div className=\"form-group\">\r\n                                                                <label className=\"form-label\">Last Name</label> <input type=\"text\" className=\"form-control\" placeholder=\"Enter First Name\" />\r\n                                                            </div>\r\n                                                        </div> */}\r\n                                                    <div className=\"col-lg-6 col-md-12\">\r\n                                                        <div className=\"form-group\">\r\n                                                            <label className=\"form-label\">Email</label>\r\n                                                            <input disabled={true} type=\"email\" value={this.state.email} name=\"email\" onChange={(e) => { this.setState({ email: e.target.value }) }} className=\"form-control\" placeholder=\"Enter Email\" />\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"col-lg-6 col-md-12\">\r\n                                                        <div className=\"form-group\">\r\n                                                            <label className=\"form-label\">Mobile Number</label>\r\n                                                            <input type=\"text\" value={this.state.mobileNumber} onFocus={() => this.setState({ mobileNumber: `04` })} onKeyDown={(e) => { if (this.state.mobileNumber.length == 2) if (e.which == 8) { e.preventDefault() } }}\r\n                                                                onKeyPress={this.phoneInput} onChange={(e) => { this.setState({ mobileNumber: e.target.value }) }} name=\"mobileNumber\"\r\n                                                                maxLength=\"10\" className=\"form-control\" id=\"exampleInputEmail1\"\r\n                                                                autocomplete=\"off\" placeholder=\"Mobile Number\" noValidate />\r\n                                                                \r\n                                                                    {this.state.mobileErr ?\r\n                                                                    <span style={{ color: \"red\" }}>Mobile Number must be 10 digits long</span>\r\n                                                                         :\r\n                                                                         \"\"\r\n                                                                   }\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    {/*                                                         <div className=\"col-lg-6 col-md-12\">\r\n                                                            <div className=\"form-group\">\r\n                                                                <label className=\"form-label\">Image</label>\r\n                                                                <div className=\"input-group\">\r\n                                                                    <div className=\"custom-file\">\r\n                                                                        <input type=\"file\" className=\"custom-file-input form-control\" />\r\n                                                                        <label className=\"custom-file-label\">Choose file</label>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div> */}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"card-footer text-right\">\r\n                                                <button type=\"submit\" className=\"btn btn-primary btn-default\">Update</button>\r\n                                            </div>\r\n                                        </form>\r\n                                    </div>\r\n                                </div>\r\n                                }\r\n\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\nexport default withRouter(VendorProfile);"]},"metadata":{},"sourceType":"module"}