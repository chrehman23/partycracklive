{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\\\backup chat\\\\partycracklive\\\\src\\\\Components\\\\venderDashboard\\\\myListing\\\\index.jsx\";\nimport React from 'react';\nimport axios from 'axios';\nimport { withRouter, Link } from 'react-router-dom';\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\nimport 'react-notifications/lib/notifications.css';\nimport ListEdit from \"../editListing/index\";\nimport { Modal, Button, Spinner } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass myListing extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      listing: [],\n      totalItem: \"\",\n      token: \"\",\n      edit: false,\n      status: \"\",\n      show: false,\n      listData: null,\n      loading: false\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        show: false\n      });\n    };\n\n    this.handleShow = data => {\n      this.setState({\n        show: true,\n        listData: data\n      });\n    };\n\n    this.getListing = () => {\n      let id = localStorage.getItem('vendor_id');\n      let token = localStorage.getItem(\"token\");\n      axios.get(`${process.env.REACT_APP_API}/api/auth/alllistings/${id}`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(res => {\n        if (res.data.Error == false) {\n          this.setState({\n            listing: res.data.data,\n            token: token\n          });\n          this.setState({\n            loading: true\n          });\n        }\n      });\n    };\n\n    this.deleteItem = async () => {\n      let {\n        _id\n      } = this.state.listData;\n      await axios.post(`${process.env.REACT_APP_API}/api/auth/deletelisting`, {\n        id: _id\n      }, {\n        headers: {\n          Authorization: `Bearer ${this.state.token}`\n        }\n      }).then(res => {\n        if (res.data.success) {\n          NotificationManager.success('Delete successfuly', '', 800);\n          this.getListing();\n          this.handleClose();\n        }\n      });\n    };\n\n    this.changeStatus = async data => {\n      let {\n        _id\n      } = data;\n      let body = {\n        status: \"pause\"\n      };\n      await axios.post(`${process.env.REACT_APP_API}/api/auth/editlisting/${_id}`, body, {\n        headers: {\n          Authorization: `Bearer ${this.state.token}`\n        }\n      }).then(res => {\n        if (res.data.success) {\n          NotificationManager.success('Update successfuly', '', 800);\n          this.getListing(this.state.token);\n        }\n      });\n    };\n  }\n\n  componentWillMount() {\n    let token = localStorage.getItem(\"token\");\n\n    if (token) {\n      this.getListing();\n    } else {\n      this.props.history.push(\"/\");\n    }\n  }\n\n  render() {\n    const {\n      listing\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: this.props.SideBar ? \"content-body\" : \"content-body extended\",\n        children: [this.state.loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container-fluid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-lg-12\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"dashboard-page-header\",\n                children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"dashboard-page-title\",\n                  children: \"My Listing\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this), listing.length == 0 ? /*#__PURE__*/_jsxDEV(\"center\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"payment-btn\",\n                onClick: () => {\n                  this.props.history.push(\"/packages\");\n                },\n                children: \"Add your first listing\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 29\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: listing.map((data, i) => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-lg-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"dashboard-list-block\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-xl-2 col-lg-4 col-md-12 col-sm-12 col-12\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"dashboard-list-img\",\n                          children: /*#__PURE__*/_jsxDEV(\"a\", {\n                            href: \"#\",\n                            children: /*#__PURE__*/_jsxDEV(\"img\", {\n                              src: `${process.env.REACT_APP_API}/${data.Profile_Pic}`,\n                              alt: \"\",\n                              className: \"img-fluid\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 120,\n                              columnNumber: 65\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 119,\n                            columnNumber: 97\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 119,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 118,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-xl-6 col-lg-5 col-md-6 col-sm-12 col-12 \",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"dashboard-list-content\",\n                          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                            className: \"mb0\",\n                            children: /*#__PURE__*/_jsxDEV(\"a\", {\n                              href: \"#\",\n                              className: \"title\",\n                              children: data.Name\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 125,\n                              columnNumber: 85\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 125,\n                            columnNumber: 65\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: data.Address.Address\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 128,\n                            columnNumber: 65\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            style: {\n                              lineHeight: \"0\",\n                              margin: \"0px\",\n                              fontSize: \"12px\",\n                              fontWeight: \"500\"\n                            },\n                            children: data.updatedAt.slice(0, 10)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 129,\n                            columnNumber: 65\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            style: {\n                              lineHeight: \"0px\",\n                              marginTop: \"20px\",\n                              marginBottom: \"-13px\"\n                            },\n                            children: data.updatedAt.slice(11, 19)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 130,\n                            columnNumber: 65\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 124,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 123,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"dashboard-list-btn\",\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"mr10\",\n                            style: {\n                              fontWeight: \"600\",\n                              fontSize: \"14px\"\n                            },\n                            children: data.Status\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 135,\n                            columnNumber: 65\n                          }, this), /*#__PURE__*/_jsxDEV(Link, {\n                            to: `/editlisting/${data._id}`,\n                            className: \"btn btn-outline-violate btn-xs mr10\",\n                            children: \"Edit\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 136,\n                            columnNumber: 65\n                          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                            href: \"#\",\n                            onClick: () => {\n                              this.handleShow(data);\n                            },\n                            className: \"btn btn-outline-pink btn-xs \",\n                            children: \"Delete\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 137,\n                            columnNumber: 65\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 134,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 133,\n                        columnNumber: 57\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 45\n                }, this);\n              })\n            }, void 0, false)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this)\n        }, void 0, false) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\",\n          children: /*#__PURE__*/_jsxDEV(Spinner, {\n            animation: \"border\",\n            variant: \"danger\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          style: {\n            marginTop: \"100px\"\n          },\n          show: this.state.show,\n          onHide: this.handleClose,\n          children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n            closeButton: true,\n            children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n              children: \"Delete Confirmation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n            children: \"Are You Sure Want To Delete?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              onClick: this.handleClose,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              onClick: this.deleteItem,\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(NotificationContainer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default withRouter(myListing);","map":{"version":3,"sources":["D:/react/backup chat/partycracklive/src/Components/venderDashboard/myListing/index.jsx"],"names":["React","axios","withRouter","Link","NotificationContainer","NotificationManager","ListEdit","Modal","Button","Spinner","myListing","Component","state","listing","totalItem","token","edit","status","show","listData","loading","handleClose","setState","handleShow","data","getListing","id","localStorage","getItem","get","process","env","REACT_APP_API","headers","Authorization","then","res","Error","deleteItem","_id","post","success","changeStatus","body","componentWillMount","props","history","push","render","SideBar","length","map","i","Profile_Pic","Name","Address","lineHeight","margin","fontSize","fontWeight","updatedAt","slice","marginTop","marginBottom","Status"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios'\r\nimport { withRouter, Link } from 'react-router-dom';\r\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\r\nimport 'react-notifications/lib/notifications.css';\r\nimport ListEdit from \"../editListing/index\"\r\nimport { Modal, Button, Spinner } from \"react-bootstrap\";\r\n\r\nclass myListing extends React.Component {\r\n    state = {\r\n        listing: [],\r\n        totalItem: \"\",\r\n        token: \"\",\r\n        edit: false,\r\n        status: \"\",\r\n        show: false,\r\n        listData: null,\r\n        loading: false\r\n\r\n    }\r\n\r\n    componentWillMount() {\r\n        let token = localStorage.getItem(\"token\")\r\n\r\n        if (token) {\r\n            this.getListing()\r\n        } else {\r\n            this.props.history.push(\"/\")\r\n        }\r\n    }\r\n\r\n    handleClose = () => { this.setState({ show: false }) };\r\n    handleShow = (data) => { this.setState({ show: true, listData: data }) };\r\n\r\n    getListing = () => {\r\n        let id = localStorage.getItem('vendor_id')\r\n        let token = localStorage.getItem(\"token\")\r\n        axios.get(`${process.env.REACT_APP_API}/api/auth/alllistings/${id}`, {\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        }).then(res => {\r\n            if (res.data.Error == false) {\r\n                this.setState({\r\n                    listing: res.data.data,\r\n                    token: token\r\n                })\r\n                this.setState({\r\n                    loading: true\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n    deleteItem = async () => {\r\n        let { _id } = this.state.listData\r\n        await axios.post(`${process.env.REACT_APP_API}/api/auth/deletelisting`,\r\n            { id: _id },\r\n            {\r\n                headers: {\r\n                    Authorization: `Bearer ${this.state.token}`\r\n                }\r\n            }).then((res) => {\r\n                if (res.data.success) {\r\n                    NotificationManager.success('Delete successfuly', '', 800);\r\n                    this.getListing()\r\n                    this.handleClose()\r\n                }\r\n            })\r\n    }\r\n    changeStatus = async (data) => {\r\n        let { _id } = data\r\n\r\n        let body = {\r\n            status: \"pause\"\r\n        }\r\n        await axios.post(`${process.env.REACT_APP_API}/api/auth/editlisting/${_id}`, body, {\r\n            headers: {\r\n                Authorization: `Bearer ${this.state.token}`\r\n            }\r\n        }\r\n        ).then((res) => {\r\n            if (res.data.success) {\r\n                NotificationManager.success('Update successfuly', '', 800);\r\n                this.getListing(this.state.token)\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { listing } = this.state\r\n        return (\r\n            <>\r\n                    <div className={this.props.SideBar ? \"content-body\" : \"content-body extended\"}>\r\n                     {this.state.loading ?\r\n                     <>\r\n\r\n                        <div className=\"container-fluid\">\r\n                            <div className=\"col-lg-12\">\r\n                                <div className=\"dashboard-page-header\">\r\n                                    <h3 className=\"dashboard-page-title\">My Listing</h3>\r\n                                    {/*                                     <p className=\"d-block mb-0\">Lists present multiple line items vertically as a single\r\n                                    continuous element.</p> */}\r\n                                </div>\r\n                            </div>\r\n                            {listing.length==0 ?\r\n                            <center>\r\n                            <button className=\"payment-btn\" onClick={()=>{this.props.history.push(\"/packages\")}}>Add your first listing</button>\r\n                            </center>\r\n                            :\r\n                            <>\r\n                                    {listing.map((data, i) => {\r\n                                        return (\r\n                                            <div className=\"col-lg-12\">\r\n                                                <div className=\"dashboard-list-block\">\r\n                                                    <div className=\"row\">\r\n                                                        <div className=\"col-xl-2 col-lg-4 col-md-12 col-sm-12 col-12\">\r\n                                                            <div className=\"dashboard-list-img\"><a href=\"#\">\r\n                                                                <img src={`${process.env.REACT_APP_API}/${data.Profile_Pic}`} alt=\"\" className=\"img-fluid\" /></a>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div className=\"col-xl-6 col-lg-5 col-md-6 col-sm-12 col-12 \">\r\n                                                            <div className=\"dashboard-list-content\">\r\n                                                                <h3 className=\"mb0\"><a href=\"#\"\r\n                                                                    className=\"title\">{data.Name}</a>\r\n                                                                </h3>\r\n                                                                <p>{data.Address.Address}</p>\r\n                                                                <p style={{lineHeight:\"0\",margin: \"0px\",fontSize: \"12px\",fontWeight: \"500\"}}>{data.updatedAt.slice(0,10)}</p>\r\n                                                                <p style={{lineHeight:\"0px\",marginTop: \"20px\",marginBottom: \"-13px\"}}>{data.updatedAt.slice(11,19)}</p>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                        <div className=\"col-xl-4 col-lg-4 col-md-12 col-sm-12 col-12\">\r\n                                                            <div className=\"dashboard-list-btn\">\r\n                                                                <label className=\"mr10\" style={{fontWeight:\"600\",fontSize:\"14px\"}}>{data.Status}</label>\r\n                                                                <Link to={`/editlisting/${data._id}`} className=\"btn btn-outline-violate btn-xs mr10\">Edit</Link>\r\n                                                                <a href=\"#\" onClick={() => {\r\n                                                                    this.handleShow(data)\r\n                                                                }} className=\"btn btn-outline-pink btn-xs \">Delete</a>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })}\r\n                                    </>\r\n                                     }\r\n                                 </div>\r\n                                 </>                              \r\n                                :\r\n                                <div className=\"spinner\">\r\n                                <Spinner animation=\"border\" variant=\"danger\" />\r\n                                 </div>\r\n                        \r\n                         }\r\n                        <Modal style={{ marginTop: \"100px\" }} show={this.state.show} onHide={this.handleClose}>\r\n                            <Modal.Header closeButton>\r\n                                <Modal.Title>Delete Confirmation</Modal.Title>\r\n                            </Modal.Header>\r\n                            <Modal.Body>Are You Sure Want To Delete?</Modal.Body>\r\n                            <Modal.Footer>\r\n                                <Button variant=\"secondary\" onClick={this.handleClose}>\r\n                                    Cancel\r\n                                  </Button>\r\n                                <Button variant=\"primary\" onClick={this.deleteItem}>\r\n                                    Delete\r\n                                        </Button>\r\n                            </Modal.Footer>\r\n                        </Modal>\r\n                    </div>\r\n                <NotificationContainer />\r\n\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(myListing);"]},"metadata":{},"sourceType":"module"}