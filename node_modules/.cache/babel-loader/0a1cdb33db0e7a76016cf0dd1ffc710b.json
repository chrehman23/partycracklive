{"ast":null,"code":"import _regeneratorRuntime from\"D:/react/backup chat/partycracklive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/react/backup chat/partycracklive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"D:/react/backup chat/partycracklive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:/react/backup chat/partycracklive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/react/backup chat/partycracklive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:/react/backup chat/partycracklive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:/react/backup chat/partycracklive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/react/backup chat/partycracklive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./Form.css';import axios from'axios';import PhoneInput from'react-phone-input-2';import'react-phone-input-2/lib/style.css';import{Link,withRouter}from'react-router-dom';import{NotificationContainer,NotificationManager}from'react-notifications';import'react-notifications/lib/notifications.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var validEmailRegex=RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);var validateForm=function validateForm(errors){var valid=true;Object.values(errors).forEach(function(val){return val.length>0&&(valid=false);});return valid;};var Form=/*#__PURE__*/function(_React$Component){_inherits(Form,_React$Component);var _super=_createSuper(Form);function Form(){var _this2;_classCallCheck(this,Form);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this2=_super.call.apply(_super,[this].concat(args));_this2.state={UserName:\"\",PhoneNumber:'',email:\"\",password:\"\",confirm_password:\"\",errors:{PhoneNumber:'',email:'',password:''},PhoneNumberErr:\"\",fieldsErr:false,specField:false,termsErr:false,pasErr:false,terms:false,PhoneErr:false};_this2.handleChange=function(event){event.preventDefault();var _event$target=event.target,name=_event$target.name,value=_event$target.value;var errors=_this2.state.errors;switch(name){case'email':errors.email=_this2.isEmail(value)?\"\":'Email must be valid!';break;case'password':errors.password=value.length<8?'Password must be at least 8 characters long!':'';break;case'PhoneNumber':_this2.state.PhoneNumberErr=value.length<10?'Phone Number must be at least 10 digits long!':'';break;default:break;}_this2.setState(_defineProperty({errors:errors},name,value));_this2.setState(_defineProperty({},name,value));};_this2.isEmail=function(val){var regEmail=/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;if(regEmail.test(val)){return true;}else{return false;}};_this2.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var _this2$state,password,email,PhoneNumber,confirm_password,terms,UserName,mobile_number,data,_this;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_this2$state=_this2.state,password=_this2$state.password,email=_this2$state.email,PhoneNumber=_this2$state.PhoneNumber,confirm_password=_this2$state.confirm_password,terms=_this2$state.terms,UserName=_this2$state.UserName;_this2.setState({fieldsErr:false,specField:false,pasErr:false,userErr:false,termsErr:false});mobile_number=\"\";if(_this2.state.PhoneNumber.length==10){mobile_number=PhoneNumber;}data={name:UserName,mobile_number:mobile_number,email:email,password:password};if(!(!email&&!password&&!confirm_password&&!UserName)){_context.next=10;break;}_this2.setState({fieldsErr:true});_context.next=33;break;case 10:if(!(_this2.state.PhoneNumber.length>2&&_this2.state.PhoneNumber.length<10)){_context.next=14;break;}_this2.setState({PhoneErr:true});_context.next=33;break;case 14:if(!(!email||!password||!confirm_password||!UserName)){_context.next=18;break;}_this2.setState({specField:true});_context.next=33;break;case 18:if(!(password!==confirm_password)){_context.next=22;break;}_this2.setState({pasErr:true});_context.next=33;break;case 22:if(!(terms==false)){_context.next=26;break;}_this2.setState({termsErr:true});_context.next=33;break;case 26:if(!validateForm(_this2.state.errors)){_context.next=32;break;}_this=_assertThisInitialized(_this2);_context.next=30;return axios.post(\"\".concat(process.env.REACT_APP_API,\"/api/auth/register\"),data).then(function(res){if(res.data.message==='success'){if(res.data.token){localStorage.setItem('vendor_id',res.data.vendor.id);}_this2.props.history.push('/auth');}else{/*   NotificationManager.info('User Alraedy exist', '', 2000); */_this2.setState({userErr:true});}});case 30:_context.next=33;break;case 32:NotificationManager.warning('Please Enter Valid Information','',2000);case 33:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this2.phoneInput=function(e){var ch=String.fromCharCode(e.which);if(!/[0-9]/.test(ch)){e.preventDefault();}else if(_this2.state.PhoneNumber.length>=11){e.preventDefault();}};return _this2;}_createClass(Form,[{key:\"render\",value:function render(){var _this3=this,_jsx2;var _this$state=this.state,errors=_this$state.errors,fieldsErr=_this$state.fieldsErr,specField=_this$state.specField,pasErr=_this$state.pasErr,userErr=_this$state.userErr,termsErr=_this$state.termsErr,PhoneErr=_this$state.PhoneErr;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-wrapper py-5\",children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:\"center\"},className:\"fo\",children:\"Grow Up Your Business With Partycrack\"}),/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\"},children:\"Sign up to acess Your Dashboard\"}),fieldsErr?/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\",color:\"red\"},children:\"Please Enter All Required* Fields\"}):\"\",specField?/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\",color:\"red\"},children:\"Please Fill Empty Field\"}):\"\",pasErr?/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\",color:\"red\"},children:\"Password does not match\"}):\"\",userErr?/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\",color:\"red\"},children:\"User Already Exist\"}):\"\",termsErr?/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\",color:\"red\"},children:\"Please accept privacy policy and terms and conditions\"}):\"\",PhoneErr?/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\",color:\"red\"},children:\"Phone Number must be at least 10 digits long!\"}):\"\",/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center py-3\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:this.state.UserName,name:\"UserName\",onChange:this.handleChange,className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Name*\",noValidate:true})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:this.state.email,name:\"email\",onChange:this.handleChange,className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Email*\",noValidate:true}),errors.email.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",(_jsx2={type:\"text\",value:this.state.PhoneNumber,onFocus:function onFocus(){return _this3.setState({PhoneNumber:\"04\"});},onKeyDown:function onKeyDown(e){if(_this3.state.PhoneNumber.length==2)if(e.which==8){e.preventDefault();}},placeholder:\"Mobile Number\",onKeyPress:this.phoneInput,onChange:this.handleChange,name:\"PhoneNumber\",maxLength:\"10\",className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",autocomplete:\"off\"},_defineProperty(_jsx2,\"placeholder\",\"Mobile Number\"),_defineProperty(_jsx2,\"noValidate\",true),_jsx2)),this.state.PhoneNumber.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:this.state.PhoneNumberErr})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:this.state.password,name:\"password\",onChange:this.handleChange,className:\"form-control\",id:\"exampleInputPassword1\",placeholder:\"Password*\",noValidate:true}),errors.password.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:errors.password})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:this.state.confirm_password,name:\"confirm_password\",onChange:this.handleChange,className:\"form-control\",id:\"exampleInputPassword1\",placeholder:\"Confirm Password*\",noValidate:true})}),/*#__PURE__*/_jsxs(\"div\",{className:\"custom-control custom-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:this.state.terms,onChange:function onChange(e){_this3.setState({terms:!_this3.state.terms});},className:\"custom-control-input\",id:\"facility5\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"custom-control-label\",htmlFor:\"facility5\",children:[\"I agree to \",/*#__PURE__*/_jsx(Link,{target:\"_blank\",to:\"/privacyandpolicy\",children:\"privacy policy \"}),\"and \",/*#__PURE__*/_jsx(Link,{target:\"_blank\",to:\"/termsandconditions\",children:\"terms & conditions\"}),\".\"]})]}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"20px\",fontWeight:\"500\",textAlign:\"center\",color:\"#535353\"},children:[\"Already have an business account? \",/*#__PURE__*/_jsx(Link,{to:\"/vendor-signin\",style:{fontSize:\"20px\",fontWeight:\"500\",color:\"#ff4068\"},className:\"d-block d-md-inline\",children:\"Sign in\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit py-2 w-100\",children:\"Continue\"})]})})]}),/*#__PURE__*/_jsx(NotificationContainer,{})]})});}}]);return Form;}(React.Component);export default withRouter(Form);","map":{"version":3,"sources":["D:/react/backup chat/partycracklive/src/Form.js"],"names":["React","axios","PhoneInput","Link","withRouter","NotificationContainer","NotificationManager","validEmailRegex","RegExp","validateForm","errors","valid","Object","values","forEach","val","length","Form","state","UserName","PhoneNumber","email","password","confirm_password","PhoneNumberErr","fieldsErr","specField","termsErr","pasErr","terms","PhoneErr","handleChange","event","preventDefault","target","name","value","isEmail","setState","regEmail","test","handleSubmit","userErr","mobile_number","data","_this","post","process","env","REACT_APP_API","then","res","message","token","localStorage","setItem","vendor","id","props","history","push","warning","phoneInput","e","ch","String","fromCharCode","which","textAlign","color","fontSize","fontWeight","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './Form.css'\r\nimport axios from 'axios'\r\nimport PhoneInput from 'react-phone-input-2'\r\nimport 'react-phone-input-2/lib/style.css'\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\r\nimport 'react-notifications/lib/notifications.css';\r\n\r\n\r\n\r\nconst validEmailRegex = RegExp(\r\n    /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\r\n);\r\nconst validateForm = errors => {\r\n    let valid = true;\r\n    Object.values(errors).forEach(val => val.length > 0 && (valid = false));\r\n    return valid;\r\n};\r\n\r\nclass Form extends React.Component {\r\n    state = {\r\n        UserName: \"\",\r\n        PhoneNumber: '',\r\n        email: \"\",\r\n        password: \"\",\r\n        confirm_password: \"\",\r\n        errors: {\r\n            PhoneNumber: '',\r\n            email: '',\r\n            password: ''\r\n        },\r\n        PhoneNumberErr:\"\",\r\n        fieldsErr: false,\r\n        specField: false,\r\n        termsErr:false,\r\n        pasErr: false,\r\n        terms:false,\r\n        PhoneErr:false\r\n    };\r\n\r\n\r\n    handleChange = (event) => {\r\n        event.preventDefault();\r\n        const { name, value } = event.target;\r\n        let errors = this.state.errors;\r\n               \r\n        switch (name) {\r\n            case 'email':\r\n                errors.email =\r\n                this.isEmail(value)\r\n                        ? \"\"\r\n                        : 'Email must be valid!';\r\n                break;\r\n            case 'password':\r\n                errors.password =\r\n                    value.length < 8\r\n                        ? 'Password must be at least 8 characters long!'\r\n                        : '';\r\n                break;\r\n                case 'PhoneNumber':\r\n                    this.state.PhoneNumberErr =\r\n                        value.length < 10\r\n                            ? 'Phone Number must be at least 10 digits long!'\r\n                            : '';\r\n                    break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors, [name]: value });\r\n        this.setState({ [name]: value })\r\n    }\r\n\r\n   isEmail=(val)=> {\r\n        let regEmail = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        if(regEmail.test(val)){\r\n          return true\r\n        }else{\r\n            return false\r\n        }\r\n    }\r\n    handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        let { password, email, PhoneNumber, confirm_password,terms,UserName } = this.state\r\n        this.setState({\r\n            fieldsErr: false,\r\n            specField: false,\r\n            pasErr: false,\r\n            userErr:false,\r\n            termsErr:false\r\n        })\r\n        let mobile_number=\"\"\r\n        if(this.state.PhoneNumber.length==10){\r\n            mobile_number=PhoneNumber\r\n        }\r\n        let data = {\r\n            name:UserName,\r\n            mobile_number: mobile_number,\r\n            email: email,\r\n            password: password\r\n        }\r\n\r\n        if (!email && !password && !confirm_password && !UserName ) {\r\n            this.setState({\r\n                fieldsErr: true\r\n            })\r\n        }\r\n        else if((this.state.PhoneNumber.length>2) && (this.state.PhoneNumber.length<10)){\r\n            this.setState({\r\n                PhoneErr: true\r\n            })\r\n        }\r\n        else if (!email || !password || !confirm_password || !UserName) {\r\n            this.setState({\r\n                specField: true\r\n            })\r\n        }\r\n        else if (password !== confirm_password) {\r\n                this.setState({\r\n                    pasErr: true\r\n                })\r\n        }\r\n        else if(terms==false){\r\n            this.setState({\r\n                termsErr:true\r\n            })\r\n        }\r\n        else {\r\n            if (validateForm(this.state.errors)) {\r\n                let _this = this\r\n                    await axios.post(`${process.env.REACT_APP_API}/api/auth/register`, data).then(res => {\r\n                        if (res.data.message === 'success') {\r\n                            if (res.data.token) {\r\n                                localStorage.setItem('vendor_id', res.data.vendor.id)\r\n                            }\r\n                           this.props.history.push('/auth') \r\n                        } else {\r\n                          /*   NotificationManager.info('User Alraedy exist', '', 2000); */\r\n                          this.setState({\r\n                              userErr:true\r\n                          })  \r\n\r\n                        }\r\n\r\n                    })\r\n            }\r\n            else {\r\n                NotificationManager.warning('Please Enter Valid Information', '', 2000);\r\n            }\r\n\r\n        }\r\n    }\r\n    phoneInput=(e)=>{\r\n        const ch =String.fromCharCode(e.which)\r\n      if(!(/[0-9]/.test(ch))){\r\n        e.preventDefault();\r\n      }\r\n      else if(this.state.PhoneNumber.length>=11){\r\n      e.preventDefault()\r\n      }\r\n      }\r\n\r\n    render() {\r\n        const { errors, fieldsErr, specField, pasErr,userErr,termsErr,PhoneErr } = this.state;\r\n        return (\r\n            <>\r\n                <div className='wrapper '>\r\n                    <div className='form-wrapper py-5'>\r\n                        <h3 style={{ textAlign: \"center\" }} className=\"fo\">Grow Up Your Business With Partycrack</h3>\r\n                        <p style={{ textAlign: \"center\" }}>Sign up to acess Your Dashboard</p>\r\n                        {fieldsErr ? <p style={{ textAlign: \"center\", color: \"red\" }}>Please Enter All Required* Fields</p> : \"\"}\r\n                        {specField ? <p style={{ textAlign: \"center\", color: \"red\" }}>Please Fill Empty Field</p> : \"\"}\r\n                        {pasErr ? <p style={{ textAlign: \"center\", color: \"red\" }}>Password does not match</p> : \"\"}\r\n                        {userErr ? <p style={{ textAlign: \"center\", color: \"red\" }}>User Already Exist</p> : \"\"}\r\n                        {termsErr ? <p style={{ textAlign: \"center\", color: \"red\" }}>Please accept privacy policy and terms and conditions</p> : \"\"}\r\n                        {PhoneErr ? <p style={{ textAlign: \"center\", color: \"red\" }}>Phone Number must be at least 10 digits long!</p> : \"\"}\r\n\r\n\r\n\r\n\r\n                        <div className=\"d-flex justify-content-center py-3\">\r\n                            <form onSubmit={this.handleSubmit}>\r\n                            <div className=\"form-group\">\r\n                                    <input type=\"text\" value={this.state.UserName} name='UserName'\r\n                                        onChange={this.handleChange} className=\"form-control\" id=\"exampleInputEmail1\"\r\n                                        aria-describedby=\"emailHelp\" placeholder=\"Name*\" noValidate />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"email\" value={this.state.email} name='email'\r\n                                        onChange={this.handleChange} className=\"form-control\" id=\"exampleInputEmail1\"\r\n                                        aria-describedby=\"emailHelp\" placeholder=\"Email*\" noValidate />\r\n                                    {errors.email.length > 0 &&\r\n                                        <span className='error'>{errors.email}</span>}\r\n                                </div>\r\n{/*                                 <div className=\"form-group\">\r\n                                    <PhoneInput\r\n                                        country={'au'}\r\n                                        value={this.state.PhoneNumber}\r\n                                        onChange={phone => this.setState({ PhoneNumber:phone })}\r\n                                        inputStyle={{ width: \"100%\" }}\r\n                                    />\r\n                                </div> */}\r\n\r\n                               <div className=\"form-group\">\r\n                               <input type=\"text\"  value={this.state.PhoneNumber} onFocus={()=>this.setState({PhoneNumber:`04`})} onKeyDown={(e)=>{if(this.state.PhoneNumber.length==2)if(e.which==8){e.preventDefault()}}}\r\n                          placeholder=\"Mobile Number\" onKeyPress={this.phoneInput} onChange={this.handleChange}  name='PhoneNumber'\r\n                                 maxLength=\"10\" className=\"form-control\" id=\"exampleInputEmail1\"\r\n                                 aria-describedby=\"emailHelp\" autocomplete=\"off\" placeholder=\"Mobile Number\" noValidate />\r\n                                    {this.state.PhoneNumber.length > 0 &&\r\n                                       <span className='error'>{this.state.PhoneNumberErr}</span>} \r\n                                </div> \r\n                                <div className=\"form-group\">\r\n                                    <input type=\"password\" value={this.state.password} name='password'\r\n                                        onChange={this.handleChange} className=\"form-control\"\r\n                                        id=\"exampleInputPassword1\" placeholder=\"Password*\" noValidate />\r\n                                    {errors.password.length > 0 &&\r\n                                        <span className='error'>{errors.password}</span>}\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <input type=\"password\" value={this.state.confirm_password} name='confirm_password'\r\n                                        onChange={this.handleChange} className=\"form-control\"\r\n                                        id=\"exampleInputPassword1\" placeholder=\"Confirm Password*\" noValidate />\r\n                                </div>\r\n\r\n                                <div className=\"custom-control custom-checkbox\">\r\n                                    <input type=\"checkbox\" value={this.state.terms}\r\n                                        onChange={(e) => {\r\n                                            this.setState({ terms: !this.state.terms })\r\n                                        }} className=\"custom-control-input\" id=\"facility5\" />\r\n                                    <label className=\"custom-control-label\" htmlFor=\"facility5\">\r\n                                        I agree to <Link target=\"_blank\" to=\"/privacyandpolicy\">privacy policy </Link>and <Link target=\"_blank\" to=\"/termsandconditions\">terms & conditions</Link>.\r\n                                    </label>\r\n                                </div>\r\n\r\n                                <p style={{\r\n                                    fontSize: \"20px\",\r\n                                    fontWeight: \"500\",\r\n                                    textAlign: \"center\",\r\n                                    color: \"#535353\"\r\n                                }}>Already have an business account? <Link to=\"/vendor-signin\" style={{\r\n                                    fontSize: \"20px\",\r\n                                    fontWeight: \"500\",\r\n                                    color: \"#ff4068\"\r\n                                }} className='d-block d-md-inline'>Sign in</Link></p>\r\n                                <button type=\"submit\" className=\"submit py-2 w-100\">Continue</button>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                    <NotificationContainer />\r\n                </div>\r\n\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(Form);"]},"metadata":{},"sourceType":"module"}