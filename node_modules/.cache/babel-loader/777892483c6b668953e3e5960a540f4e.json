{"ast":null,"code":"import _regeneratorRuntime from\"D:/react/backup chat/partycracklive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/react/backup chat/partycracklive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"D:/react/backup chat/partycracklive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:/react/backup chat/partycracklive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/react/backup chat/partycracklive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:/react/backup chat/partycracklive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:/react/backup chat/partycracklive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/react/backup chat/partycracklive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'../vendorSignup/vendorsignup.css';import Footer from\"../../Components/footer/footer\";import Header from\"../../Components/topHeader/indexCitys\";import axios from\"axios\";import{Link,withRouter}from'react-router-dom';import{NotificationContainer,NotificationManager}from'react-notifications';import'react-notifications/lib/notifications.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var validateForm=function validateForm(errors){var valid=true;Object.values(errors).forEach(function(val){return val.length>0&&(valid=false);});return valid;};var vendorsignin=/*#__PURE__*/function(_React$Component){_inherits(vendorsignin,_React$Component);var _super=_createSuper(vendorsignin);function vendorsignin(props){var _this2;_classCallCheck(this,vendorsignin);_this2=_super.call(this,props);_this2.isEmail=function(val){var regEmail=/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;if(regEmail.test(val)){return true;}else{return false;}};_this2.handleChange=function(event){event.preventDefault();var _event$target=event.target,name=_event$target.name,value=_event$target.value;var errors=_this2.state.errors;switch(name){case'email':errors.email=_this2.isEmail(value)?'':'Email must be valid!';break;case'password':errors.password=value.length<8?'Password must be at least 8 characters long!':'';break;default:break;}_this2.setState(_defineProperty({errors:errors},name,value));};_this2.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var _this2$state,email,password,data,_this;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(_this2.state);_this2$state=_this2.state,email=_this2$state.email,password=_this2$state.password;event.preventDefault();_this2.setState({specField:false,userExistErr:false,errMsg:\"\"});data={email:_this2.state.email,password:_this2.state.password};if(!(!email||!password)){_context.next=9;break;}_this2.setState({specField:true});_context.next=14;break;case 9:if(!validateForm(_this2.state.errors)){_context.next=14;break;}_this=_assertThisInitialized(_this2);_this2.setState({loginbtn:true});_context.next=14;return axios.post(\"\".concat(process.env.REACT_APP_API,\"/api/auth/login\"),data).then(function(res){if(res.data.status==true){if(res.data.token){var checkin=[];localStorage.setItem('token',res.data.token);localStorage.setItem('vendor_id',res.data.vendor.id);localStorage.setItem('name',res.data.vendor.name);var loginData=JSON.parse(localStorage.getItem(\"checkin\"));if(loginData&&loginData.length){var _data=JSON.parse(localStorage.getItem(\"checkin\"));var index=_data.findIndex(function(x){return x.uni==res.data.vendor.id;});index===-1?_data.push({uni:res.data.vendor.id,isTime:true}):console.log(\"object already exists\");localStorage.setItem(\"checkin\",JSON.stringify(_data));}else{checkin.push({uni:res.data.vendor.id,isTime:true});localStorage.setItem('checkin',JSON.stringify(checkin));}}NotificationManager.success('Login Successfully','',800);setTimeout(function(){_this.props.history.push('/vendor-dashboard');},1000);}else if(res.data.status==false){localStorage.setItem('vendor_id',res.data.vendor.id);NotificationManager.success('OTP has Sent to your Email','',1000);setTimeout(function(){_this.props.history.push('/auth');},1100);}else if(res.data.Error==true){_this2.setState({userExistErr:true,errMsg:res.data.msg});}_this2.setState({loginbtn:false});}).catch(function(e){console.log(e);});case 14:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this2.state={email:null,password:null,errMsg:\"\",errors:{email:'',password:''},specField:false,loginbtn:false};return _this2;}_createClass(vendorsignin,[{key:\"componentDidMount\",value:function componentDidMount(){var token=localStorage.getItem(\"token\");if(token){this.props.history.push(\"/vendor-dashboard\");}}},{key:\"render\",value:function render(){var _this$state=this.state,errors=_this$state.errors,specField=_this$state.specField,userExistErr=_this$state.userExistErr;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"banner d-md-block d-none\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-pic h-100 d-flex justify-content-center align-items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"area\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"sign\",children:\"Sign in\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"bread-crumb\",children:/*#__PURE__*/_jsx(\"li\",{className:\"signa\",children:\"Home Signin\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid container-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row form-row-wrapper my-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"wrapper \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-wrapper py-5\",children:[/*#__PURE__*/_jsx(\"h3\",{style:{textAlign:\"center\"},className:\"fo\",children:\"Grow Up Your Business With Partycrack\"}),/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\"},children:\"Sign in to acess Your Dashboard\"}),specField?/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\",color:\"red\"},children:\"Please enter email and password\"}):\"\",userExistErr?/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\",color:\"red\"},children:\"Invalid Email or Password\"}):\"\",/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center py-3\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:this.state.email,name:\"email\",onChange:this.handleChange,className:\"form-control\",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",placeholder:\"Email\",noValidate:true}),errors.email.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",style:{marginBottom:\"10px\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:this.state.password,name:\"password\",onChange:this.handleChange,className:\"form-control\",id:\"exampleInputPassword1\",placeholder:\"Password\",noValidate:true}),errors.password.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"error\",children:errors.password})]}),/*#__PURE__*/_jsx(Link,{to:\"/forgot-password\",style:{color:\"#ff4068\",fontWeight:\"500\",fontSize:\"13px\",textDecoration:\"none\",marginLeft:\"11px\"},children:\"Forgot your password?\"}),/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:\"15px\",fontSize:\"17px\",fontWeight:\"500\",textAlign:\"center\",color:\"#535353\"},children:[\"Register as a Service Provider? \",/*#__PURE__*/_jsx(Link,{to:\"/vendor-signup\",style:{fontSize:\"17px\",fontWeight:\"500\",color:\"#ff4068\"},className:\"d-block d-md-inline\",children:\"Sign Up\"})]}),/*#__PURE__*/_jsx(\"button\",{disabled:this.state.loginbtn,type:\"submit\",className:\"submit py-2 w-100\",children:\"Sign in\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:\"17px\",fontWeight:\"500\",textAlign:\"center\",color:\"#535353\"},children:[\"Are you a customer? \",/*#__PURE__*/_jsx(\"a\",{className:\"customer-signin d-inline-block\",children:\"Customer Signin\"})]})})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6 px-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"imageWrapper d-flex align-items-center justify-content-center h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"button-wrap\",children:/*#__PURE__*/_jsx(\"a\",{className:\"btn btn-lg\",children:\"Welcome to Partycrack\"})})})})]})}),/*#__PURE__*/_jsx(NotificationContainer,{})]})}),/*#__PURE__*/_jsx(Footer,{})]});}}]);return vendorsignin;}(React.Component);export default withRouter(vendorsignin);","map":{"version":3,"sources":["D:/react/backup chat/partycracklive/src/pages/vendonSignin/index.jsx"],"names":["React","Footer","Header","axios","Link","withRouter","NotificationContainer","NotificationManager","validateForm","errors","valid","Object","values","forEach","val","length","vendorsignin","props","isEmail","regEmail","test","handleChange","event","preventDefault","target","name","value","state","email","password","setState","handleSubmit","console","log","specField","userExistErr","errMsg","data","_this","loginbtn","post","process","env","REACT_APP_API","then","res","status","token","checkin","localStorage","setItem","vendor","id","loginData","JSON","parse","getItem","index","findIndex","x","uni","push","isTime","stringify","success","setTimeout","history","Error","msg","catch","e","textAlign","color","marginBottom","fontWeight","fontSize","textDecoration","marginLeft","marginTop","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport '../vendorSignup/vendorsignup.css'\r\nimport Footer from \"../../Components/footer/footer\"\r\nimport Header from \"../../Components/topHeader/indexCitys\"\r\nimport axios from \"axios\";\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\r\nimport 'react-notifications/lib/notifications.css';\r\n\r\n\r\n\r\nconst validateForm = errors => {\r\n    let valid = true;\r\n    Object.values(errors).forEach(val => val.length > 0 && (valid = false));\r\n    return valid;\r\n};\r\n\r\nclass vendorsignin extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: null,\r\n            password: null,\r\n            errMsg:\"\",\r\n            errors: {\r\n                email: '',\r\n                password: ''\r\n            },\r\n            specField: false,\r\n            loginbtn:false\r\n        };\r\n\r\n    }\r\n    isEmail=(val)=> {\r\n        let regEmail = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        if(regEmail.test(val)){\r\n          return true\r\n        }else{\r\n            return false\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        let token=localStorage.getItem(\"token\")\r\n        if(token){\r\n         this.props.history.push(\"/vendor-dashboard\")\r\n        }\r\n\r\n    }\r\n    handleChange = (event) => {\r\n        event.preventDefault();\r\n        const { name, value } = event.target;\r\n        let errors = this.state.errors;\r\n\r\n        switch (name) {\r\n            case 'email':\r\n                errors.email =\r\n                      this.isEmail(value)\r\n                        ? ''\r\n                        : 'Email must be valid!';\r\n                break;\r\n            case 'password':\r\n                errors.password =\r\n                    value.length < 8\r\n                        ? 'Password must be at least 8 characters long!'\r\n                        : '';\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors, [name]: value });\r\n    }\r\n\r\n    handleSubmit = async (event) => {\r\n        console.log(this.state)\r\n        let {email,password}=this.state\r\n        event.preventDefault();\r\n        this.setState({\r\n            specField: false,\r\n            userExistErr:false,\r\n            errMsg:\"\"\r\n           })\r\n\r\n        let data = {\r\n            email: this.state.email,\r\n            password: this.state.password\r\n        }\r\n\r\n      if(!email || !password){\r\n       this.setState({\r\n        specField: true,\r\n       })\r\n      }\r\n      \r\n      \r\n      else{\r\n        if (validateForm(this.state.errors)) {\r\n            let _this = this\r\n            this.setState({\r\n                loginbtn:true\r\n            })\r\n            await axios.post(`${process.env.REACT_APP_API}/api/auth/login`, data).then(res => {\r\n                if (res.data.status ==true) {\r\n                    if (res.data.token) {\r\n                        let checkin=[]\r\n                        localStorage.setItem('token', res.data.token)\r\n                        localStorage.setItem('vendor_id', res.data.vendor.id)\r\n                        localStorage.setItem('name', res.data.vendor.name)\r\n\r\n                         let loginData=JSON.parse(localStorage.getItem(\"checkin\"))\r\n                        if(loginData && loginData.length){\r\n                            let data= JSON.parse(localStorage.getItem(\"checkin\"))\r\n                            var index = data.findIndex(x => x.uni==res.data.vendor.id); \r\n                            index === -1 ? data.push({uni:res.data.vendor.id,isTime:true}) : console.log(\"object already exists\")\r\n                                localStorage.setItem(\"checkin\",JSON.stringify(data)) \r\n\r\n                        }else{\r\n                            checkin.push({uni:res.data.vendor.id,isTime:true})\r\n                            localStorage.setItem('checkin',JSON.stringify(checkin))\r\n                        }                        \r\n                    }\r\n                    NotificationManager.success('Login Successfully', '', 800);\r\n                    setTimeout(function () { _this.props.history.push('/vendor-dashboard') }, 1000);\r\n\r\n                } else if(res.data.status ==false){\r\n                    localStorage.setItem('vendor_id', res.data.vendor.id)\r\n                    NotificationManager.success('OTP has Sent to your Email', '', 1000);\r\n                    setTimeout(function () { _this.props.history.push('/auth') }, 1100);\r\n \r\n                }\r\n                else if(res.data.Error==true){\r\n                    this.setState({\r\n                        userExistErr:true,\r\n                        errMsg:res.data.msg\r\n                    })\r\n                }\r\n                this.setState({\r\n                    loginbtn:false\r\n                })\r\n\r\n            }).catch(e => {\r\n                console.log(e)\r\n            }\r\n\r\n            )\r\n        }\r\n\r\n          \r\n      }\r\n    }\r\n\r\n    render() {\r\n        let { errors,specField,userExistErr } = this.state\r\n        return (\r\n            <>\r\n                <Header />\r\n                <div className=\"banner d-md-block d-none\">\r\n\r\n                    <div className=\"container-pic h-100 d-flex justify-content-center align-items-center\">\r\n                        <div className=\"area\">\r\n                             <h1 className=\"sign\">Sign in</h1>\r\n                            <ul className=\"bread-crumb\">\r\n                                <li className=\"signa\">Home Signin</li>\r\n\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"container-fluid container-lg\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12\">\r\n                            <div className=\"row form-row-wrapper my-5\">\r\n                                <div className=\"col-12 col-md-6\">\r\n                                    <div className='wrapper '>\r\n                                        <div className='form-wrapper py-5'>\r\n                                            <h3 style={{ textAlign: \"center\" }} className=\"fo\">Grow Up Your Business With\r\n                                                Partycrack</h3>\r\n                                            <p style={{ textAlign: \"center\" }}>Sign in to acess Your Dashboard</p>\r\n                                            {specField ? <p style={{ textAlign: \"center\", color: \"red\" }}>Please enter email and password</p> : \"\"}\r\n                                            {userExistErr ? <p style={{ textAlign: \"center\", color: \"red\" }}>Invalid Email or Password</p> : \"\"}\r\n                                            <div className=\"d-flex justify-content-center py-3\">\r\n                                                <form onSubmit={this.handleSubmit}>\r\n                                                    <div className=\"form-group\">\r\n                                                        <input type=\"email\" value={this.state.email} name='email'\r\n                                                            onChange={this.handleChange} className=\"form-control\"\r\n                                                            id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\"\r\n                                                            placeholder=\"Email\" noValidate />\r\n                                                             {errors.email.length > 0 && \r\n                                                                        <span className='error'>{errors.email}</span>} \r\n                                                    </div>\r\n                                                    <div className=\"form-group\" style={{marginBottom:\"10px\"}}>\r\n                                                        <input type=\"password\" value={this.state.password}\r\n                                                            name='password' onChange={this.handleChange}\r\n                                                            className=\"form-control\" id=\"exampleInputPassword1\"\r\n                                                            placeholder=\"Password\" noValidate />\r\n                                                        {errors.password.length > 0 &&\r\n                                                            <span className='error'>{errors.password}</span>}\r\n                                                    </div>\r\n                                                    <Link to=\"/forgot-password\" style={{color:\"#ff4068\",fontWeight:\"500\",fontSize:\"13px\",textDecoration:\"none\",marginLeft:\"11px\"}}>Forgot your password?</Link>\r\n                                                    <p style={{\r\n                                                        marginTop:\"15px\",\r\n                                                        fontSize: \"17px\",\r\n                                                        fontWeight: \"500\",\r\n                                                        textAlign: \"center\",\r\n                                                        color: \"#535353\"\r\n                                                    }}>Register as a Service Provider? <Link to=\"/vendor-signup\" style={{\r\n                                                        fontSize: \"17px\",\r\n                                                        fontWeight: \"500\",\r\n                                                        color: \"#ff4068\"\r\n                                                    }} className='d-block d-md-inline'>Sign Up</Link></p>\r\n                                                    <button disabled={this.state.loginbtn} type=\"submit\" className=\"submit py-2 w-100\">Sign in</button>\r\n                                                    <div className=\"mt-4\">\r\n                                                        <p style={{\r\n                                                            fontSize: \"17px\",\r\n                                                            fontWeight: \"500\",\r\n                                                            textAlign: \"center\",\r\n                                                            color: \"#535353\"\r\n                                                        }}>Are you a customer? <a className=\"customer-signin d-inline-block\">Customer\r\n                                                            Signin</a></p>\r\n                                                    </div>\r\n                                                </form>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-12 col-md-6 px-0\">\r\n                                    <div\r\n                                        className=\"imageWrapper d-flex align-items-center justify-content-center h-100\">\r\n                                        <div className=\"button-wrap\">\r\n                                            <a className=\"btn btn-lg\">Welcome to Partycrack</a>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <NotificationContainer />\r\n                    </div>\r\n\r\n                </div>\r\n                <Footer />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(vendorsignin)\r\n"]},"metadata":{},"sourceType":"module"}