{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\\\backup chat\\\\partycracklive\\\\src\\\\pages\\\\vendonSignin\\\\index.jsx\";\nimport React from 'react';\nimport '../vendorSignup/vendorsignup.css';\nimport Footer from \"../../Components/footer/footer\";\nimport Header from \"../../Components/topHeader/indexCitys\";\nimport axios from \"axios\";\nimport { Link, withRouter } from 'react-router-dom';\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\nimport 'react-notifications/lib/notifications.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst validateForm = errors => {\n  let valid = true;\n  Object.values(errors).forEach(val => val.length > 0 && (valid = false));\n  return valid;\n};\n\nclass vendorsignin extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.isEmail = val => {\n      let regEmail = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n      if (regEmail.test(val)) {\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    this.handleChange = event => {\n      event.preventDefault();\n      const {\n        name,\n        value\n      } = event.target;\n      let errors = this.state.errors;\n\n      switch (name) {\n        case 'email':\n          errors.email = this.isEmail(value) ? '' : 'Email must be valid!';\n          break;\n\n        case 'password':\n          errors.password = value.length < 8 ? 'Password must be at least 8 characters long!' : '';\n          break;\n\n        default:\n          break;\n      }\n\n      this.setState({\n        errors,\n        [name]: value\n      });\n    };\n\n    this.handleSubmit = async event => {\n      console.log(this.state);\n      let {\n        email,\n        password\n      } = this.state;\n      event.preventDefault();\n      this.setState({\n        specField: false,\n        userExistErr: false,\n        errMsg: \"\"\n      });\n      let data = {\n        email: this.state.email,\n        password: this.state.password\n      };\n\n      if (!email || !password) {\n        this.setState({\n          specField: true\n        });\n      } else {\n        if (validateForm(this.state.errors)) {\n          let _this = this;\n\n          this.setState({\n            loginbtn: true\n          });\n          await axios.post(`${process.env.REACT_APP_API}/api/auth/login`, data).then(res => {\n            if (res.data.status == true) {\n              if (res.data.token) {\n                let checkin = [];\n                localStorage.setItem('token', res.data.token);\n                localStorage.setItem('vendor_id', res.data.vendor.id);\n                localStorage.setItem('name', res.data.vendor.name);\n                let loginData = JSON.parse(localStorage.getItem(\"checkin\"));\n\n                if (loginData && loginData.length) {\n                  let data = JSON.parse(localStorage.getItem(\"checkin\"));\n                  var index = data.findIndex(x => x.uni == res.data.vendor.id);\n                  index === -1 ? data.push({\n                    uni: res.data.vendor.id,\n                    isTime: true\n                  }) : console.log(\"object already exists\");\n                  localStorage.setItem(\"checkin\", JSON.stringify(data));\n                } else {\n                  checkin.push({\n                    uni: res.data.vendor.id,\n                    isTime: true\n                  });\n                  localStorage.setItem('checkin', JSON.stringify(checkin));\n                }\n              }\n\n              NotificationManager.success('Login Successfully', '', 800);\n              setTimeout(function () {\n                _this.props.history.push('/vendor-dashboard');\n              }, 1000);\n            } else if (res.data.status == false) {\n              localStorage.setItem('vendor_id', res.data.vendor.id);\n              NotificationManager.success('OTP has Sent to your Email', '', 1000);\n              setTimeout(function () {\n                _this.props.history.push('/auth');\n              }, 1100);\n            } else if (res.data.Error == true) {\n              this.setState({\n                userExistErr: true,\n                errMsg: res.data.msg\n              });\n            }\n\n            this.setState({\n              loginbtn: false\n            });\n          }).catch(e => {\n            console.log(e);\n          });\n        }\n      }\n    };\n\n    this.state = {\n      email: null,\n      password: null,\n      errMsg: \"\",\n      errors: {\n        email: '',\n        password: ''\n      },\n      specField: false,\n      loginbtn: false\n    };\n  }\n\n  componentDidMount() {\n    let token = localStorage.getItem(\"token\");\n\n    if (token) {\n      this.props.history.push(\"/vendor-dashboard\");\n    }\n  }\n\n  render() {\n    let {\n      errors,\n      specField,\n      userExistErr\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"banner d-md-block d-none\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-pic h-100 d-flex justify-content-center align-items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"area\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"sign\",\n              children: \"Sign in\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 30\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"bread-crumb\",\n              children: /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"signa\",\n                children: \"Home Signin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid container-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row form-row-wrapper my-5\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-12 col-md-6\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"wrapper \",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"form-wrapper py-5\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      style: {\n                        textAlign: \"center\"\n                      },\n                      className: \"fo\",\n                      children: \"Grow Up Your Business With Partycrack\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 177,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      style: {\n                        textAlign: \"center\"\n                      },\n                      children: \"Sign in to acess Your Dashboard\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 179,\n                      columnNumber: 45\n                    }, this), specField ? /*#__PURE__*/_jsxDEV(\"p\", {\n                      style: {\n                        textAlign: \"center\",\n                        color: \"red\"\n                      },\n                      children: \"Please enter email and password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 58\n                    }, this) : \"\", userExistErr ? /*#__PURE__*/_jsxDEV(\"p\", {\n                      style: {\n                        textAlign: \"center\",\n                        color: \"red\"\n                      },\n                      children: \"Invalid Email or Password\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 181,\n                      columnNumber: 61\n                    }, this) : \"\", /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"d-flex justify-content-center py-3\",\n                      children: /*#__PURE__*/_jsxDEV(\"form\", {\n                        onSubmit: this.handleSubmit,\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"form-group\",\n                          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"email\",\n                            value: this.state.email,\n                            name: \"email\",\n                            onChange: this.handleChange,\n                            className: \"form-control\",\n                            id: \"exampleInputEmail1\",\n                            \"aria-describedby\": \"emailHelp\",\n                            placeholder: \"Email\",\n                            noValidate: true\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 185,\n                            columnNumber: 57\n                          }, this), errors.email.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"error\",\n                            children: errors.email\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 190,\n                            columnNumber: 73\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 184,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"form-group\",\n                          style: {\n                            marginBottom: \"10px\"\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"password\",\n                            value: this.state.password,\n                            name: \"password\",\n                            onChange: this.handleChange,\n                            className: \"form-control\",\n                            id: \"exampleInputPassword1\",\n                            placeholder: \"Password\",\n                            noValidate: true\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 193,\n                            columnNumber: 57\n                          }, this), errors.password.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"error\",\n                            children: errors.password\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 198,\n                            columnNumber: 61\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 192,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(Link, {\n                          to: \"/forgot-password\",\n                          style: {\n                            color: \"#ff4068\",\n                            fontWeight: \"500\",\n                            fontSize: \"13px\",\n                            textDecoration: \"none\",\n                            marginLeft: \"11px\"\n                          },\n                          children: \"Forgot your password?\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 200,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                          style: {\n                            marginTop: \"15px\",\n                            fontSize: \"17px\",\n                            fontWeight: \"500\",\n                            textAlign: \"center\",\n                            color: \"#535353\"\n                          },\n                          children: [\"Register as a Service Provider? \", /*#__PURE__*/_jsxDEV(Link, {\n                            to: \"/vendor-signup\",\n                            style: {\n                              fontSize: \"17px\",\n                              fontWeight: \"500\",\n                              color: \"#ff4068\"\n                            },\n                            className: \"d-block d-md-inline\",\n                            children: \"Sign Up\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 207,\n                            columnNumber: 88\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 201,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                          disabled: this.state.loginbtn,\n                          type: \"submit\",\n                          className: \"submit py-2 w-100\",\n                          children: \"Sign in\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 212,\n                          columnNumber: 53\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"mt-4\",\n                          children: /*#__PURE__*/_jsxDEV(\"p\", {\n                            style: {\n                              fontSize: \"17px\",\n                              fontWeight: \"500\",\n                              textAlign: \"center\",\n                              color: \"#535353\"\n                            },\n                            children: [\"Are you a customer? \", /*#__PURE__*/_jsxDEV(\"a\", {\n                              className: \"customer-signin d-inline-block\",\n                              children: \"Customer Signin\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 219,\n                              columnNumber: 80\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 214,\n                            columnNumber: 57\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 213,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 183,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 182,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-12 col-md-6 px-0\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"imageWrapper d-flex align-items-center justify-content-center h-100\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"button-wrap\",\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      className: \"btn btn-lg\",\n                      children: \"Welcome to Partycrack\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 231,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(NotificationContainer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default withRouter(vendorsignin);","map":{"version":3,"sources":["D:/react/backup chat/partycracklive/src/pages/vendonSignin/index.jsx"],"names":["React","Footer","Header","axios","Link","withRouter","NotificationContainer","NotificationManager","validateForm","errors","valid","Object","values","forEach","val","length","vendorsignin","Component","constructor","props","isEmail","regEmail","test","handleChange","event","preventDefault","name","value","target","state","email","password","setState","handleSubmit","console","log","specField","userExistErr","errMsg","data","_this","loginbtn","post","process","env","REACT_APP_API","then","res","status","token","checkin","localStorage","setItem","vendor","id","loginData","JSON","parse","getItem","index","findIndex","x","uni","push","isTime","stringify","success","setTimeout","history","Error","msg","catch","e","componentDidMount","render","textAlign","color","marginBottom","fontWeight","fontSize","textDecoration","marginLeft","marginTop"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport '../vendorSignup/vendorsignup.css'\r\nimport Footer from \"../../Components/footer/footer\"\r\nimport Header from \"../../Components/topHeader/indexCitys\"\r\nimport axios from \"axios\";\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\r\nimport 'react-notifications/lib/notifications.css';\r\n\r\n\r\n\r\nconst validateForm = errors => {\r\n    let valid = true;\r\n    Object.values(errors).forEach(val => val.length > 0 && (valid = false));\r\n    return valid;\r\n};\r\n\r\nclass vendorsignin extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            email: null,\r\n            password: null,\r\n            errMsg:\"\",\r\n            errors: {\r\n                email: '',\r\n                password: ''\r\n            },\r\n            specField: false,\r\n            loginbtn:false\r\n        };\r\n\r\n    }\r\n    isEmail=(val)=> {\r\n        let regEmail = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        if(regEmail.test(val)){\r\n          return true\r\n        }else{\r\n            return false\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        let token=localStorage.getItem(\"token\")\r\n        if(token){\r\n         this.props.history.push(\"/vendor-dashboard\")\r\n        }\r\n\r\n    }\r\n    handleChange = (event) => {\r\n        event.preventDefault();\r\n        const { name, value } = event.target;\r\n        let errors = this.state.errors;\r\n\r\n        switch (name) {\r\n            case 'email':\r\n                errors.email =\r\n                      this.isEmail(value)\r\n                        ? ''\r\n                        : 'Email must be valid!';\r\n                break;\r\n            case 'password':\r\n                errors.password =\r\n                    value.length < 8\r\n                        ? 'Password must be at least 8 characters long!'\r\n                        : '';\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({ errors, [name]: value });\r\n    }\r\n\r\n    handleSubmit = async (event) => {\r\n        console.log(this.state)\r\n        let {email,password}=this.state\r\n        event.preventDefault();\r\n        this.setState({\r\n            specField: false,\r\n            userExistErr:false,\r\n            errMsg:\"\"\r\n           })\r\n\r\n        let data = {\r\n            email: this.state.email,\r\n            password: this.state.password\r\n        }\r\n\r\n      if(!email || !password){\r\n       this.setState({\r\n        specField: true,\r\n       })\r\n      }\r\n      \r\n      \r\n      else{\r\n        if (validateForm(this.state.errors)) {\r\n            let _this = this\r\n            this.setState({\r\n                loginbtn:true\r\n            })\r\n            await axios.post(`${process.env.REACT_APP_API}/api/auth/login`, data).then(res => {\r\n                if (res.data.status ==true) {\r\n                    if (res.data.token) {\r\n                        let checkin=[]\r\n                        localStorage.setItem('token', res.data.token)\r\n                        localStorage.setItem('vendor_id', res.data.vendor.id)\r\n                        localStorage.setItem('name', res.data.vendor.name)\r\n\r\n                         let loginData=JSON.parse(localStorage.getItem(\"checkin\"))\r\n                        if(loginData && loginData.length){\r\n                            let data= JSON.parse(localStorage.getItem(\"checkin\"))\r\n                            var index = data.findIndex(x => x.uni==res.data.vendor.id); \r\n                            index === -1 ? data.push({uni:res.data.vendor.id,isTime:true}) : console.log(\"object already exists\")\r\n                                localStorage.setItem(\"checkin\",JSON.stringify(data)) \r\n\r\n                        }else{\r\n                            checkin.push({uni:res.data.vendor.id,isTime:true})\r\n                            localStorage.setItem('checkin',JSON.stringify(checkin))\r\n                        }                        \r\n                    }\r\n                    NotificationManager.success('Login Successfully', '', 800);\r\n                    setTimeout(function () { _this.props.history.push('/vendor-dashboard') }, 1000);\r\n\r\n                } else if(res.data.status ==false){\r\n                    localStorage.setItem('vendor_id', res.data.vendor.id)\r\n                    NotificationManager.success('OTP has Sent to your Email', '', 1000);\r\n                    setTimeout(function () { _this.props.history.push('/auth') }, 1100);\r\n \r\n                }\r\n                else if(res.data.Error==true){\r\n                    this.setState({\r\n                        userExistErr:true,\r\n                        errMsg:res.data.msg\r\n                    })\r\n                }\r\n                this.setState({\r\n                    loginbtn:false\r\n                })\r\n\r\n            }).catch(e => {\r\n                console.log(e)\r\n            }\r\n\r\n            )\r\n        }\r\n\r\n          \r\n      }\r\n    }\r\n\r\n    render() {\r\n        let { errors,specField,userExistErr } = this.state\r\n        return (\r\n            <>\r\n                <Header />\r\n                <div className=\"banner d-md-block d-none\">\r\n\r\n                    <div className=\"container-pic h-100 d-flex justify-content-center align-items-center\">\r\n                        <div className=\"area\">\r\n                             <h1 className=\"sign\">Sign in</h1>\r\n                            <ul className=\"bread-crumb\">\r\n                                <li className=\"signa\">Home Signin</li>\r\n\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"container-fluid container-lg\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12\">\r\n                            <div className=\"row form-row-wrapper my-5\">\r\n                                <div className=\"col-12 col-md-6\">\r\n                                    <div className='wrapper '>\r\n                                        <div className='form-wrapper py-5'>\r\n                                            <h3 style={{ textAlign: \"center\" }} className=\"fo\">Grow Up Your Business With\r\n                                                Partycrack</h3>\r\n                                            <p style={{ textAlign: \"center\" }}>Sign in to acess Your Dashboard</p>\r\n                                            {specField ? <p style={{ textAlign: \"center\", color: \"red\" }}>Please enter email and password</p> : \"\"}\r\n                                            {userExistErr ? <p style={{ textAlign: \"center\", color: \"red\" }}>Invalid Email or Password</p> : \"\"}\r\n                                            <div className=\"d-flex justify-content-center py-3\">\r\n                                                <form onSubmit={this.handleSubmit}>\r\n                                                    <div className=\"form-group\">\r\n                                                        <input type=\"email\" value={this.state.email} name='email'\r\n                                                            onChange={this.handleChange} className=\"form-control\"\r\n                                                            id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\"\r\n                                                            placeholder=\"Email\" noValidate />\r\n                                                             {errors.email.length > 0 && \r\n                                                                        <span className='error'>{errors.email}</span>} \r\n                                                    </div>\r\n                                                    <div className=\"form-group\" style={{marginBottom:\"10px\"}}>\r\n                                                        <input type=\"password\" value={this.state.password}\r\n                                                            name='password' onChange={this.handleChange}\r\n                                                            className=\"form-control\" id=\"exampleInputPassword1\"\r\n                                                            placeholder=\"Password\" noValidate />\r\n                                                        {errors.password.length > 0 &&\r\n                                                            <span className='error'>{errors.password}</span>}\r\n                                                    </div>\r\n                                                    <Link to=\"/forgot-password\" style={{color:\"#ff4068\",fontWeight:\"500\",fontSize:\"13px\",textDecoration:\"none\",marginLeft:\"11px\"}}>Forgot your password?</Link>\r\n                                                    <p style={{\r\n                                                        marginTop:\"15px\",\r\n                                                        fontSize: \"17px\",\r\n                                                        fontWeight: \"500\",\r\n                                                        textAlign: \"center\",\r\n                                                        color: \"#535353\"\r\n                                                    }}>Register as a Service Provider? <Link to=\"/vendor-signup\" style={{\r\n                                                        fontSize: \"17px\",\r\n                                                        fontWeight: \"500\",\r\n                                                        color: \"#ff4068\"\r\n                                                    }} className='d-block d-md-inline'>Sign Up</Link></p>\r\n                                                    <button disabled={this.state.loginbtn} type=\"submit\" className=\"submit py-2 w-100\">Sign in</button>\r\n                                                    <div className=\"mt-4\">\r\n                                                        <p style={{\r\n                                                            fontSize: \"17px\",\r\n                                                            fontWeight: \"500\",\r\n                                                            textAlign: \"center\",\r\n                                                            color: \"#535353\"\r\n                                                        }}>Are you a customer? <a className=\"customer-signin d-inline-block\">Customer\r\n                                                            Signin</a></p>\r\n                                                    </div>\r\n                                                </form>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-12 col-md-6 px-0\">\r\n                                    <div\r\n                                        className=\"imageWrapper d-flex align-items-center justify-content-center h-100\">\r\n                                        <div className=\"button-wrap\">\r\n                                            <a className=\"btn btn-lg\">Welcome to Partycrack</a>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <NotificationContainer />\r\n                    </div>\r\n\r\n                </div>\r\n                <Footer />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(vendorsignin)\r\n"]},"metadata":{},"sourceType":"module"}