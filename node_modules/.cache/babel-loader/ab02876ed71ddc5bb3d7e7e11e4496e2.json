{"ast":null,"code":"var _jsxFileName = \"D:\\\\react\\\\backup chat\\\\partycracklive\\\\src\\\\Components\\\\venderDashboard\\\\dashboard\\\\index.jsx\";\nimport React from 'react';\nimport axios from 'axios';\nimport { withRouter, Link } from 'react-router-dom';\nimport listedimg from \"../../../assets/imgs/coffee-table.png\";\nimport favouriteimg from \"../../../assets/imgs/favourite.png\";\nimport ListEdit from \"../editListing/index\";\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\nimport 'react-notifications/lib/notifications.css';\nimport { Modal, Button, Spinner } from \"react-bootstrap\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass vendorDashboard extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      listing: [],\n      totalItem: \"\",\n      edit: false,\n      listId: \"\",\n      status: \"\",\n      show: false,\n      listData: null,\n      loading: false,\n      welcome: false,\n      vendorName: \"\"\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        show: false\n      });\n    };\n\n    this.handleShow = data => {\n      this.setState({\n        show: true,\n        listData: data\n      });\n    };\n\n    this.deleteItem = async () => {\n      let {\n        _id\n      } = this.state.listData;\n      await axios.post(`${process.env.REACT_APP_API}/api/auth/deletelisting`, {\n        id: _id\n      }, {\n        headers: {\n          Authorization: `Bearer ${this.state.token}`\n        }\n      }).then(res => {\n        if (res.data.success) {\n          NotificationManager.success('Delete successfuly', '', 800);\n          this.getListing();\n          this.handleClose();\n        }\n      });\n    };\n\n    this.getListing = () => {\n      let token = localStorage.getItem(\"token\");\n      let name = localStorage.getItem(\"name\");\n      axios.get(`${process.env.REACT_APP_API}/api/auth/showlisting`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }).then(res => {\n        if (res.data.success) {\n          this.setState({\n            listing: res.data.listing,\n            totalItem: res.data.count,\n            vendorName: name\n          });\n        }\n\n        this.setState({\n          loading: true\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    let token = localStorage.getItem(\"token\");\n\n    if (token) {\n      this.getListing();\n    } else {\n      this.props.history.push(\"/\");\n    }\n\n    let loginData = JSON.parse(localStorage.getItem(\"checkin\"));\n\n    if (loginData && loginData.length) {\n      let data = loginData.filter(data => {\n        if (data.isTime == true) {\n          return data;\n        }\n      });\n      console.log(data);\n\n      if (data.length > 0) {\n        this.setState({\n          welcome: true\n        });\n      }\n\n      var newData = loginData.map(el => {\n        if (el.uni == localStorage.getItem(\"vendor_id\") && el.isTime == true) return Object.assign({}, el, {\n          isTime: false\n        });\n        return el;\n      });\n      localStorage.setItem(\"checkin\", JSON.stringify(newData));\n    }\n  }\n\n  render() {\n    let {\n      listing\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: this.props.SideBar ? \"content-body\" : \"content-body extended\",\n        children: [this.state.loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-fluid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard-page-header\",\n            children: [this.state.welcome ? /*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                color: \"#dd3b45\"\n              },\n              children: \"Welcome\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 44\n            }, this) : \"\", /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"dashboard-page-title\",\n              children: [\"Hi, \", this.state.vendorName.toUpperCase(), \".\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row dasboardlist\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-xl-4 col-md-6\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"widget-stat card bg-danger\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"#0\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card-body p-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"media\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"mr-3\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: listedimg,\n                          alt: \"image\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 120,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 119,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"media-body text-white\",\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"mb-1\",\n                          children: \"Total Listed Item\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 123,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                          className: \"text-white\",\n                          children: this.state.totalItem\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 124,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 122,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 118,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 117,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-12 col-lg-12 mt-3 mt-lg-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-header\",\n                  children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"card-title mb-2\",\n                    children: \"Your Listings\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 159,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 41\n                }, this), this.state.totalItem == 0 ? /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"payment-btn\",\n                  onClick: () => {\n                    this.props.history.push(\"/packages\");\n                  },\n                  children: \"Add your first listing\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 45\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card-body\",\n                    children: listing.map((data, i) => {\n                      return /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-lg-12\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"dashboard-list-block\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"row\",\n                            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"col-xl-2 col-lg-4 col-md-12 col-sm-12 col-12\",\n                              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"dashboard-list-img\",\n                                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                                  href: \"#\",\n                                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                                    src: `${process.env.REACT_APP_API}/${data.Profile_Pic}`,\n                                    alt: \"\",\n                                    className: \"img-fluid\"\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 176,\n                                    columnNumber: 81\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 175,\n                                  columnNumber: 77\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 174,\n                                columnNumber: 73\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 172,\n                              columnNumber: 69\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"col-xl-7 col-lg-5 col-md-6 col-sm-12 col-12 \",\n                              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"dashboard-list-content\",\n                                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                                  className: \"\",\n                                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                                    href: \"#\",\n                                    className: \"title\",\n                                    children: data.Name\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 186,\n                                    columnNumber: 81\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 185,\n                                  columnNumber: 77\n                                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                                  children: data.Address.Address\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 189,\n                                  columnNumber: 77\n                                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                                  style: {\n                                    lineHeight: \"0\",\n                                    margin: \"0px\",\n                                    fontSize: \"12px\",\n                                    fontWeight: \"500\"\n                                  },\n                                  children: data.updatedAt.slice(0, 10)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 190,\n                                  columnNumber: 77\n                                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                                  style: {\n                                    lineHeight: \"0px\",\n                                    marginTop: \"20px\",\n                                    marginBottom: \"-13px\"\n                                  },\n                                  children: data.updatedAt.slice(11, 19)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 191,\n                                  columnNumber: 77\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 184,\n                                columnNumber: 73\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 182,\n                              columnNumber: 69\n                            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12\",\n                              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: \"dashboard-list-btn\",\n                                children: [/*#__PURE__*/_jsxDEV(Link, {\n                                  to: `/editlisting/${data._id}`,\n                                  className: \"btn btn-outline-violate btn-xs\",\n                                  children: \"Edit\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 197,\n                                  columnNumber: 77\n                                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                                  href: \"#\",\n                                  onClick: () => {\n                                    this.handleShow(data);\n                                  },\n                                  className: \"btn btn-outline-pink btn-xs\",\n                                  children: \"Delete\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 198,\n                                  columnNumber: 77\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 196,\n                                columnNumber: 73\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 194,\n                              columnNumber: 69\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 171,\n                            columnNumber: 65\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 170,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 169,\n                        columnNumber: 57\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\",\n          children: /*#__PURE__*/_jsxDEV(Spinner, {\n            animation: \"border\",\n            variant: \"danger\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          style: {\n            marginTop: \"100px\"\n          },\n          show: this.state.show,\n          onHide: this.handleClose,\n          children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n            closeButton: true,\n            children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n              children: \"Delete Confirmation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n            children: \"Are You Sure Want To Delete?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              onClick: this.handleClose,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              onClick: this.deleteItem,\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(NotificationContainer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default withRouter(vendorDashboard);","map":{"version":3,"sources":["D:/react/backup chat/partycracklive/src/Components/venderDashboard/dashboard/index.jsx"],"names":["React","axios","withRouter","Link","listedimg","favouriteimg","ListEdit","NotificationContainer","NotificationManager","Modal","Button","Spinner","vendorDashboard","Component","state","listing","totalItem","edit","listId","status","show","listData","loading","welcome","vendorName","handleClose","setState","handleShow","data","deleteItem","_id","post","process","env","REACT_APP_API","id","headers","Authorization","token","then","res","success","getListing","localStorage","getItem","name","get","count","componentDidMount","props","history","push","loginData","JSON","parse","length","filter","isTime","console","log","newData","map","el","uni","Object","assign","setItem","stringify","render","SideBar","color","toUpperCase","i","Profile_Pic","Name","Address","lineHeight","margin","fontSize","fontWeight","updatedAt","slice","marginTop","marginBottom"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios'\r\nimport { withRouter,Link } from 'react-router-dom';\r\nimport listedimg from \"../../../assets/imgs/coffee-table.png\"\r\nimport favouriteimg from \"../../../assets/imgs/favourite.png\"\r\nimport ListEdit from \"../editListing/index\"\r\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\r\nimport 'react-notifications/lib/notifications.css';\r\nimport { Modal, Button,Spinner } from \"react-bootstrap\";\r\n\r\n\r\nclass vendorDashboard extends React.Component {\r\n    state = {\r\n        listing: [],\r\n        totalItem: \"\",\r\n        edit: false,\r\n        listId: \"\",\r\n        status: \"\",\r\n        show: false,\r\n        listData: null,\r\n        loading:false,\r\n        welcome:false,\r\n        vendorName:\"\"\r\n    }\r\n\r\n\r\n    handleClose = () => { this.setState({ show: false }) };\r\n    handleShow = (data) => { this.setState({ show: true, listData: data }) };\r\n\r\n    deleteItem = async () => {\r\n        let { _id } = this.state.listData\r\n        await axios.post(`${process.env.REACT_APP_API}/api/auth/deletelisting`,\r\n            { id: _id },\r\n            {\r\n                headers: {\r\n                    Authorization: `Bearer ${this.state.token}`\r\n                }\r\n            }).then((res) => {\r\n                if (res.data.success) {\r\n                    NotificationManager.success('Delete successfuly', '', 800);\r\n                    this.getListing()\r\n                    this.handleClose()\r\n                }\r\n            })\r\n    }\r\n\r\n    componentDidMount() {\r\n        let token = localStorage.getItem(\"token\")\r\n        if (token) {\r\n            this.getListing()\r\n        } else {\r\n            this.props.history.push(\"/\")\r\n        }\r\n\r\n        let loginData=JSON.parse(localStorage.getItem(\"checkin\"))\r\n      if(loginData && loginData.length){\r\n        let data=loginData.filter((data)=>{\r\n            if(data.isTime==true){\r\n                return data\r\n            }\r\n        })\r\n        console.log(data)\r\n        if(data.length>0){\r\n            this.setState({\r\n                welcome:true\r\n            })\r\n        }\r\n        var newData = loginData.map(el => {\r\n            if((el.uni==localStorage.getItem(\"vendor_id\") && el.isTime == true))\r\n               return Object.assign({}, el, {isTime:false})\r\n            return el\r\n        });\r\n        localStorage.setItem(\"checkin\",JSON.stringify(newData))\r\n      }\r\n\r\n    }\r\n\r\n    getListing = () => {\r\n        let token = localStorage.getItem(\"token\");\r\n        let name=localStorage.getItem(\"name\");\r\n\r\n        axios.get(`${process.env.REACT_APP_API}/api/auth/showlisting`, {\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        }).then(res => {\r\n            if (res.data.success) {\r\n                this.setState({\r\n                    listing: res.data.listing,\r\n                    totalItem: res.data.count,\r\n                    vendorName:name\r\n                })\r\n            }\r\n            this.setState({\r\n                loading:true\r\n            })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        let { listing } = this.state\r\n\r\n        return (\r\n            <>\r\n                    <div className={this.props.SideBar ? \"content-body\" : \"content-body extended\"}>\r\n                       {this.state.loading ?\r\n                        <div className=\"container-fluid\">\r\n                            <div className=\"dashboard-page-header\">\r\n                       {this.state.welcome?<h3 style={{color:\"#dd3b45\"}} >Welcome</h3> : \"\"}\r\n\r\n                                <h3 className=\"dashboard-page-title\">Hi, {this.state.vendorName.toUpperCase()}.</h3>\r\n                            </div>\r\n                            <div className=\"row dasboardlist\">\r\n                                <div className=\"col-12 col-xl-4 col-md-6\">\r\n                                    <div className=\"widget-stat card bg-danger\">\r\n                                        <a href=\"#0\">\r\n                                            <div className=\"card-body p-4\">\r\n                                                <div className=\"media\">\r\n                                                    <span className=\"mr-3\">\r\n                                                        <img src={listedimg} alt=\"image\" />\r\n                                                    </span>\r\n                                                    <div className=\"media-body text-white\">\r\n                                                        <p className=\"mb-1\">Total Listed Item</p>\r\n                                                        <h3 className=\"text-white\">{this.state.totalItem}</h3>\r\n{/*                                                         <div className=\"progress mb-2 bg-primary\">\r\n                                                            <div className=\"progress-bar progress-animated bg-light\"\r\n                                                                style={{ width: '50%' }} />\r\n                                                        </div> */}\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </a>\r\n                                    </div>\r\n                                </div>\r\n                                {/*                  <div className=\"col-12 col-xl-4 col-md-6\">\r\n                     <div className=\"widget-stat card bg-primary\">\r\n                         <a href=\"#\">\r\n                             <div className=\"card-body  p-4\">\r\n                                 <div className=\"media\">\r\n                                     <span className=\"mr-3\">\r\n                                         <img src={favouriteimg} alt=\"image\"/>\r\n                                     </span>\r\n                                     <div className=\"media-body text-white\">\r\n                                         <p className=\"mb-1\">Your Reviews</p>\r\n                                         <h3 className=\"text-white\">200</h3>\r\n                                         <div className=\"progress mb-2 bg-secondary\">\r\n                                             <div className=\"progress-bar progress-animated bg-light\"\r\n                                                  style={{width: '80%'}}/>\r\n                                         </div>\r\n                                     </div>\r\n                                 </div>\r\n                             </div>\r\n                         </a>\r\n                     </div>\r\n                 </div> */}\r\n                                <div className=\"col-12 col-lg-12 mt-3 mt-lg-4\">\r\n                                    <div className=\"card\">\r\n                                        <div className=\"card-header\">\r\n                                            <h4 className=\"card-title mb-2\">Your Listings</h4>\r\n                                        </div>\r\n                                        {\r\n                                            this.state.totalItem==0 ?\r\n                                            <button className=\"payment-btn\" onClick={()=>{this.props.history.push(\"/packages\")}}>Add your first listing</button>\r\n                                            :\r\n                                            <>\r\n                                        <div className=\"card-body\">\r\n                                                {listing.map((data, i) => {\r\n                                                    return (\r\n                                                        <div className=\"col-lg-12\">\r\n                                                            <div className=\"dashboard-list-block\">\r\n                                                                <div className=\"row\">\r\n                                                                    <div\r\n                                                                        className=\"col-xl-2 col-lg-4 col-md-12 col-sm-12 col-12\">\r\n                                                                        <div className=\"dashboard-list-img\">\r\n                                                                            <a href=\"#\">\r\n                                                                                <img\r\n                                                                                    src={`${process.env.REACT_APP_API}/${data.Profile_Pic}`} alt=\"\"\r\n                                                                                    className=\"img-fluid\" />\r\n                                                                            </a>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                    <div\r\n                                                                        className=\"col-xl-7 col-lg-5 col-md-6 col-sm-12 col-12 \">\r\n                                                                        <div className=\"dashboard-list-content\">\r\n                                                                            <h3 className=\"\">\r\n                                                                                <a href=\"#\"\r\n                                                                                    className=\"title\">{data.Name}</a>\r\n                                                                            </h3>\r\n                                                                            <p>{data.Address.Address}</p>\r\n                                                                            <p style={{lineHeight:\"0\",margin: \"0px\",fontSize: \"12px\",fontWeight: \"500\"}}>{data.updatedAt.slice(0,10)}</p>\r\n                                                                            <p style={{lineHeight:\"0px\",marginTop: \"20px\",marginBottom: \"-13px\"}}>{data.updatedAt.slice(11,19)}</p>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                    <div\r\n                                                                        className=\"col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12\">\r\n                                                                        <div className=\"dashboard-list-btn\">\r\n                                                                            <Link to={`/editlisting/${data._id}`} className=\"btn btn-outline-violate btn-xs\">Edit</Link>\r\n                                                                            <a href=\"#\" onClick={() => {\r\n                                                                                this.handleShow(data)\r\n                                                                            }}\r\n                                                                                className=\"btn btn-outline-pink btn-xs\">Delete</a>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    )\r\n                                                })}\r\n\r\n                                            </div>\r\n                                            </>\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n    \r\n                        </div>\r\n                        :\r\n                        <div className=\"spinner\">\r\n                        <Spinner animation=\"border\" variant=\"danger\" />\r\n                        </div>\r\n                                            }\r\n\r\n                                            \r\n                        <Modal style={{ marginTop: \"100px\" }} show={this.state.show} onHide={this.handleClose}>\r\n                            <Modal.Header closeButton>\r\n                                <Modal.Title>Delete Confirmation</Modal.Title>\r\n                            </Modal.Header>\r\n                            <Modal.Body>Are You Sure Want To Delete?</Modal.Body>\r\n                            <Modal.Footer>\r\n                                <Button variant=\"secondary\" onClick={this.handleClose}>\r\n                                    Cancel\r\n                                  </Button>\r\n                                <Button variant=\"primary\" onClick={this.deleteItem}>\r\n                                    Delete\r\n                                        </Button>\r\n                            </Modal.Footer>\r\n                        </Modal>\r\n                    </div>\r\n                \r\n                <NotificationContainer />\r\n\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withRouter(vendorDashboard);"]},"metadata":{},"sourceType":"module"}